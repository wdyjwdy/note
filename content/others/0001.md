---
title: Bible Database Design
group: Others
toc: true
---

## Tables

### Versions

| Column Name | Type         | Example                  |
| ----------- | ------------ | ------------------------ |
| id          | INTEGER (PK) | 1                        |
| language    | TEXT         | en                       |
| name        | TEXT         | English Standard Version |
| code        | TEXT         | ESV                      |

### Books

| Column Name | Type         | Example |
| ----------- | ------------ | ------- |
| id          | INTEGER (PK) | 1       |
| version_id  | INTEGER (FK) | 1       |
| book        | INTEGER      | 1       |
| name        | TEXT         | Genesis |
| code        | TEXT         | Gen     |
| chapters    | INTEGER      | 50      |

### Verses

| Column Name | Type         | Example             |
| ----------- | ------------ | ------------------- |
| id          | INTEGER (PK) | 1                   |
| version_id  | INTEGER (FK) | 1                   |
| book        | INTEGER      | 1                   |
| chapter     | INTEGER      | 1                   |
| verse       | INTEGER      | 1                   |
| text        | TEXT         | In the beginning... |
| heading     | TEXT         | The Creation...     |

### Favorites

| Column Name | Type         | Example    |
| ----------- | ------------ | ---------- |
| id          | INTEGER (PK) | 1          |
| version_id  | INTEGER (FK) | 1          |
| book        | INTEGER      | 1          |
| chapter     | INTEGER      | 1          |
| verse       | INTEGER      | 1          |
| date        | TEXT         | 2020-01-01 |

## Queries

### Search Verses by Chapter

```sql
SELECT *
FROM verses
WHERE version_id = 1
  AND book = 1
  AND chapter = 1;
```

### Search Verses by Text

```sql
SELECT *
FROM verses
WHERE version_id = 1
  AND text LIKE '%key%';
```

### Search Verses by Favorite

```sql
SELECT *
FROM verses AS v
  INNER JOIN favorites as f
    ON v.version_id = f.version_id
      AND v.book = f.book
      AND v.chapter = f.chapter
      AND v.verse = f.verse;
```
